---
import clsx from 'clsx'

const navItems = {
  '/': {
    name: 'home',
    x: 0,
    y: 0,
    w: '64px',
  },
  '/about': {
    name: 'about',
    x: 64,
    y: 35,
    w: '65px',
  },
  '/timeline': {
    name: 'timeline',
    x: 127,
    y: 69,
    w: '56px',
  },
  // '/uses': {
  //   name: 'uses',
  //   x: 182,
  //   y: 104,
  //   w: '56px',
  // },
}

const pathname = Astro.url.pathname || '/'
---

<aside class="md:w-[150px] md:flex-shrink-0 -mx-4 md:mx-0 md:px-0 font-serif">
  <div class="lg:sticky lg:top-20">
    <div
      class="ml-2 md:ml-[12px] mb-2 px-4 md:px-0 md:mb-8 space-y-10 flex flex-col md:flex-row items-start"
    >
      <a href="/">
        <svg
          class="text-black dark:text-white h-[25px] md:h-[37px]"
          width="24"
          height="24"
          viewBox="0 0 512 512"
          preserveAspectRatio="xMidYMid meet"
          fill="#fff"
        >
          <g transform="translate(0, 512) scale(0.1, -0.1)" fill="#000000" stroke="none">
            <path
              d="M3290 2580 l0 -600 605 0 605 0 0 600 0 600 -605 0 -605 0 0 -600z m760 453 c76 -20 130 -54 183 -113 73 -82 92 -140 92 -295 0 -104 -4 -140 -19 -180 -60 -158 -184 -242 -373 -253 -167 -9 -292 34 -378 130 -107 119 -133 354 -55 513 34 70 49 89 112 137 104 79 281 104 438 61z"
            ></path>
            <path
              d="M3825 3020 c-108 -12 -164 -37 -232 -105 -52 -52 -64 -72 -83 -131 -25 -83 -29 -233 -6 -306 33 -110 105 -190 205 -230 76 -30 268 -32 350 -5 117 40 187 112 223 230 30 101 23 257 -16 342 -70 155 -226 227 -441 205z"
            ></path>
            <path
              d="M660 2611 c0 -269 4 -422 10 -426 7 -4 10 130 10 394 0 221 3 401 8 400 4 0 133 -182 286 -404 153 -222 283 -402 288 -399 12 8 10 854 -2 854 -6 0 -10 -140 -10 -400 0 -220 -3 -400 -7 -399 -5 0 -132 180 -283 399 -151 220 -281 399 -287 400 -10 0 -13 -90 -13 -419z"
            ></path>
            <path
              d="M1650 2605 l0 -425 255 0 c163 0 255 4 255 10 0 6 -88 10 -245 10 l-245 0 0 220 0 220 179 0 c109 0 182 4 186 10 4 7 -58 10 -179 10 l-186 0 0 175 0 175 245 0 c157 0 245 4 245 10 0 6 -92 10 -255 10 l-255 0 0 -425z"
            ></path>
            <path
              d="M2550 2605 c0 -277 3 -425 10 -425 6 0 10 58 10 153 l0 153 70 69 c69 69 70 69 89 50 10 -11 92 -110 181 -220 89 -110 169 -202 178 -204 13 -2 14 0 6 10 -6 8 -91 112 -188 231 -97 120 -176 221 -176 226 0 4 18 26 41 47 114 111 319 335 307 335 -9 0 -123 -112 -254 -250 -132 -137 -242 -250 -246 -250 -5 0 -8 113 -8 250 0 160 -4 250 -10 250 -7 0 -10 -148 -10 -425z"
            ></path>
          </g>
        </svg>
      </a>
    </div>
    <nav
      class="flex flex-row md:flex-col items-start relative overflow-scroll px-4 md:px-0 pb-0 fade md:overflow-auto scroll-pr-6 md:relative"
      id="nav"
    >
      <div class="flex flex-row md:flex-col space-x-0 pr-10 mb-2 mt-2 md:mt-0">
        {
          pathname ? (
            <>
              <div class="hidden md:block">
                <div class="absolute bg-neutral-100 dark:bg-neutral-800 h-[34px] rounded-md z-[-1]" />
              </div>
              <div class="block md:hidden">
                <div class="absolute bg-neutral-100 dark:bg-neutral-800 h-[34px] rounded-md z-[-1]" />
              </div>
            </>
          ) : null
        }

        {
          Object.entries(navItems).map(([path, { name }]) => {
            const isActive = path === pathname

            return (
              <a
                href={path}
                class={clsx(
                  'transition-all hover:text-neutral-800 dark:hover:text-neutral-200 py-[5px] px-[10px]',
                  {
                    'text-neutral-500': !isActive,
                    'font-bold': isActive,
                  },
                )}
              >
                {name}
              </a>
            )
          })
        }
      </div>
    </nav>
  </div>
</aside>
